!function(o){"use strict";function e(){o('.sidebar[data-type="collapse"][data-transformed]').length&&(o('.sidebar[data-type="collapse"][data-transformed]').attr("data-type","dropdown").attr("data-transformed",!0),n())}o.fn.tkSidebarDropdown=function(){if(this.length){var e=this;e.find(".collapse").off("shown.bs.collapse").off("show.bs.collapse").off("hidden.bs.collapse");var n=e.find("[data-scrollable]").getNiceScroll()[0];n.scrollstart(function(){e.is('[data-type="dropdown"]')&&(e.addClass("scrolling"),e.find("#dropdown-temp > ul > li").empty(),e.find("#dropdown-temp").hide(),e.find(".open").removeClass("open"))}),n.scrollend(function(){e.is('[data-type="dropdown"]')&&(o.data(this,"lastScrollTop",n.getScrollTop()),e.removeClass("scrolling"))}),e.find(".hasSubmenu").addClass("dropdown").removeClass("open").find("> ul").addClass("dropdown-menu").removeClass("collapse in").removeAttr("style").end().find("> a").removeClass("collapsed").removeAttr("data-toggle"),e.find(".sidebar-menu > li.dropdown > a").on("mouseenter",function(){var n=e.find("#dropdown-temp");if(e.find(".open").removeClass("open"),n.hide(),!o(this).parent(".dropdown").is(".open")&&!e.is(".scrolling")){var d=o(this).parent(".dropdown"),s=d.find("> .dropdown-menu").clone().removeClass("submenu-hide");n.length||(n=o("<div/>").attr("id","dropdown-temp").appendTo(e),n.html("<ul><li></li></ul>")),n.show(),n.find(".dropdown-menu").remove(),n=n.find("> ul > li").css({overflow:"visible"}).addClass("dropdown open"),d.addClass("open"),s.appendTo(n).css({top:d.offset().top-n.offset().top,left:"100%"}).show(),e.is(".right")&&s.css({left:"auto",right:"100%"})}}),e.find(".sidebar-menu > li > a").on("mouseenter",function(){if(!o(this).parent().is(".dropdown")){var e=o(this).closest(".sidebar");e.find(".open").removeClass("open"),e.find("#dropdown-temp").hide()}}),e.find(".sidebar-menu > li > a").on("click",function(e){o(this).parent().is(".dropdown")&&(e.preventDefault(),e.stopPropagation())}),e.on("mouseleave",function(){o(this).find("#dropdown-temp").hide(),o(this).find(".open").removeClass("open")}),e.find(".dropdown").on("mouseover",function(){o(this).addClass("open").children("ul").removeClass("submenu-hide").addClass("submenu-show")}).on("mouseout",function(){o(this).children("ul").removeClass(".submenu-show").addClass("submenu-hide")}),o("body").on("mouseout","#dropdown-temp .dropdown",function(){o(".sidebar-menu .open",o(this).closest(".sidebar")).removeClass(".open")})}};var n=function(){o('.sidebar[data-type="dropdown"]').each(function(){o(this).tkSidebarDropdown()})},d=function(){o('.sidebar[data-type="collapse"]').each(function(){o(this).tkSidebarCollapse()})};n(),o(window).bind("enterBreakpoint480",function(){o('.sidebar[data-type="dropdown"]').length&&(o('.sidebar[data-type="dropdown"]').attr("data-type","collapse").attr("data-transformed",!0),d())}),o(window).bind("enterBreakpoint768",e),o(window).bind("enterBreakpoint1024",e)}(jQuery);
